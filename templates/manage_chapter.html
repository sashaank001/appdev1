{% extends "base.html" %}

{% block title %}Manage {{ chapter.name }}{% endblock %}

{% block body %}
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h2>Manage Chapter: {{ chapter.name }}</h2>
            <p>{{ chapter.description }}</p>
            <div class="d-flex justify-content-between align-items-center flex-wrap gap-2 mt-3">
                <!-- Buttons for editing and deleting the chapter -->
                <a href="{{ url_for('edit_chapter', chapter_id=chapter.id) }}" class="btn btn-warning">Edit Chapter</a>
                <a href="{{ url_for('delete_chapter', chapter_id=chapter.id) }}" class="btn btn-danger"
                   onclick="return confirm('Are you sure you want to delete this chapter?');">
                   Delete Chapter
                </a>
            
                <!-- Button to create a new quiz -->
                <a href="{{ url_for('create_quiz', chapter_id=chapter.id) }}" class="btn btn-primary">Create New Quiz</a>
            
                <!-- Return back to Subject button -->
                <a href="{{ url_for('manage_subject', subject_id=chapter.subject_id) }}" class="btn btn-secondary">
                    Back
                </a>
            </div>
            

            <!-- List of existing quizzes -->
            <h3>Quizzes</h3>
            <ul class="list-group">
                {% for quiz in quizzes %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ quiz.date_of_quiz }} - {{ quiz.remarks }}
                        <a href="{{ url_for('manage_quiz', quiz_id=quiz.id) }}" class="btn btn-sm btn-info">Manage</a>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}
